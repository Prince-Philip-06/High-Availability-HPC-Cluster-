<svg width="1200" height="650" viewBox="0 0 1200 650" xmlns="http://www.w3.org/2000/svg">

<style>
.bg { fill:#0b1220; }
.box { fill:#111827; stroke:#38bdf8; stroke-width:2; rx:14; }
.title { fill:white; font-family:Arial; font-size:22px; font-weight:bold; }
.label { fill:#e5e7eb; font-family:Arial; font-size:15px; }
.arrow { stroke:#94a3b8; stroke-width:2.5; marker-end:url(#arrow); }
.cluster { fill:none; stroke:#22c55e; stroke-width:2; stroke-dasharray:6 4; }
.clusterText { fill:#22c55e; font-family:Arial; font-size:14px; }
</style>

<defs>
<marker id="arrow" markerWidth="10" markerHeight="10" refX="8" refY="3" orient="auto">
<polygon points="0 0, 10 3, 0 6" fill="#94a3b8"/>
</marker>
</defs>

<rect width="100%" height="100%" class="bg"/>

<!-- Title -->
<text x="600" y="40" text-anchor="middle" class="title">
High Availability HPC Cluster Architecture
</text>

<!-- Users -->
<rect x="500" y="70" width="200" height="55" class="box"/>
<text x="600" y="105" text-anchor="middle" class="label">External Users</text>

<!-- VPN -->
<rect x="500" y="150" width="200" height="55" class="box"/>
<text x="600" y="185" text-anchor="middle" class="label">WireGuard VPN</text>

<!-- Login -->
<rect x="470" y="230" width="260" height="70" class="box"/>
<text x="600" y="260" text-anchor="middle" class="label">Login Node Gateway</text>
<text x="600" y="280" text-anchor="middle" class="label">(LDAP • NFS • Web Portal)</text>

<!-- PCS Cluster Outline -->
<rect x="120" y="320" width="960" height="160" class="cluster"/>
<text x="600" y="340" text-anchor="middle" class="clusterText">
PCS / Pacemaker High Availability Cluster
</text>

<!-- Active Master -->
<rect x="200" y="360" width="260" height="80" class="box"/>
<text x="330" y="395" text-anchor="middle" class="label">Active Master</text>
<text x="330" y="415" text-anchor="middle" class="label">(Slurm Controller)</text>

<!-- Passive Master -->
<rect x="740" y="360" width="260" height="80" class="box"/>
<text x="870" y="395" text-anchor="middle" class="label">Passive Master</text>
<text x="870" y="415" text-anchor="middle" class="label">(Failover Node)</text>

<!-- DRBD Sync Label -->
<text x="600" y="405" text-anchor="middle" class="label">DRBD Sync</text>

<!-- Compute Nodes -->
<rect x="180" y="520" width="180" height="70" class="box"/>
<text x="270" y="560" text-anchor="middle" class="label">Compute Node 1</text>

<rect x="510" y="520" width="180" height="70" class="box"/>
<text x="600" y="560" text-anchor="middle" class="label">Compute Node 2</text>

<rect x="840" y="520" width="180" height="70" class="box"/>
<text x="930" y="560" text-anchor="middle" class="label">Compute Node 3</text>

<!-- Arrows -->
<line x1="600" y1="125" x2="600" y2="150" class="arrow"/>
<line x1="600" y1="205" x2="600" y2="230" class="arrow"/>

<line x1="600" y1="300" x2="330" y2="360" class="arrow"/>
<line x1="600" y1="300" x2="870" y2="360" class="arrow"/>

<line x1="460" y1="400" x2="740" y2="400" class="arrow"/>

<line x1="330" y1="440" x2="270" y2="520" class="arrow"/>
<line x1="600" y1="440" x2="600" y2="520" class="arrow"/>
<line x1="870" y1="440" x2="930" y2="520" class="arrow"/>

</svg>
